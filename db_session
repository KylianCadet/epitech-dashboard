
// session table
CREATE TABLE "session" (
		"sid" varchar NOT NULL COLLATE "default",
		"sess" json NOT NULL,
		"expire" timestamp(6) NOT NULL
)
WITH (OIDS=FALSE);
ALTER TABLE "session" ADD CONSTRAINT "session_pkey"
PRIMARY KEY ("sid") NOT DEFERRABLE INITIALLY IMMEDIATE;


// twitter service
CREATE TABLE TWITTER (
	ID SERIAL PRIMARY KEY,
	TOKEN TEXT NOT NULL,
	TOKEN_SECRET TEXT NOT NULL,
	SCREEN_NAME TEXT NOT NULL
);


// coinbase service
CREATE TABLE COINBASE (
	ID SERIAL PRIMARY KEY,
	ACCESS_TOKEN TEXT NOT NULL,
	REFRESH_TOKEN TEXT NOT NULL
);

// user table
CREATE TABLE USERS (
	ID SERIAL PRIMARY KEY,
	USERNAME TEXT NOT NULL UNIQUE,
	PASSWORD TEXT NOT NULL,
	COINBASE_ID INTEGER REFERENCES COINBASE(ID),
	TWITTER_ID INTEGER REFERENCES TWITTER(ID)
);


// coinbase widgets
CREATE TABLE COINBASE_WIDGET_EXCHANGE (
	ID SERIAL PRIMARY KEY,
	USER_ID INTEGER REFERENCES USERS(ID) ON DELETE CASCADE,
	CURRENCY1 TEXT,
	CURRENCY2 TEXT,
	TIMER INTEGER,
	TOP_ TEXT,
	LEFT_ TEXT,
	WIDTH_ TEXT,
	HEIGHT_ TEXT
);

CREATE TABLE COINBASE_WIDGET_WALLET (
	ID SERIAL PRIMARY KEY,
	COINBASE_ID INTEGER REFERENCES COINBASE(ID) ON DELETE CASCADE,
	CURRENCY TEXT,
	TIMER INTEGER,
	TOP_ TEXT,
	LEFT_ TEXT,
	WIDTH_ TEXT,
	HEIGHT_ TEXT
);

// twitter widgets
CREATE TABLE TWITTER_WIDGET_TL (
	ID SERIAL PRIMARY KEY,
	TWITTER_ID INTEGER REFERENCES TWITTER(ID) ON DELETE CASCADE,
	TYPE TEXT,
	TIMER INTEGER,
	TOP_ TEXT,
	LEFT_ TEXT,
	WIDTH_ TEXT,
	HEIGHT_ TEXT
);